<div class="min-h-screen flex flex-col lg:flex-row bg-background text-foreground">

  <!-- Language button (top-right) -->
  <app-language-menu class="absolute top-4 right-4 z-20"></app-language-menu>

  <!-- Left brand panel -->
  <aside
    class="hidden lg:flex w-1/2 items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-700 p-12 relative overflow-hidden">
    <div class="relative max-w-md text-center text-gray-100 z-10">
      <img src="assets/images/logo.png" alt="Thai Theatre Foundation" class="mx-auto mb-6 h-16 w-auto drop-shadow-lg" />
      <h1 class="text-3xl font-semibold tracking-tight text-white">
        <span i18n="@@org_name">มูลนิธิละครไทย</span>
      </h1>
      <p class="mt-3 text-gray-300 leading-relaxed">
        <span i18n="@@org_tagline">พื้นที่สร้างสรรค์เพื่อศิลปะการละคร และชุมชนผู้ชม</span>
      </p>
    </div>
  </aside>

  <!-- Right form panel -->
  <main
    class="flex-1 flex items-center justify-center p-4 sm:p-6 md:p-10 bg-gradient-to-b from-white via-gray-50 to-gray-100">
    <div class="w-full max-w-sm sm:max-w-md md:max-w-lg">
      <div class="bg-card border border-muted rounded-2xl shadow-xl p-6 sm:p-8">
        <div class="mb-6 text-center">
          <h2 class="text-2xl font-semibold">
            <span i18n="@@login">เข้าสู่ระบบ</span>
          </h2>
          <p class="text-muted-foreground mt-1 text-sm sm:text-base">
            <span i18n="@@login_sub">กรุณากรอกอีเมลและรหัสผ่านเพื่อเข้าสู่ระบบ</span>
          </p>
        </div>

        <!-- Server error -->
        <div *ngIf="serverError" class="mb-4 rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700">
          {{ serverError }}
        </div>

        <form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
          <!-- Email -->
          <label class="block text-sm font-medium mb-1" for="email">
            <span i18n="@@email">อีเมล</span>
          </label>
          <input id="email" type="email" formControlName="email" required class="block w-full rounded-lg border border-muted bg-background px-3 py-3 text-sm sm:text-base outline-none
                   focus:ring-2 focus:ring-primary" placeholder="name@example.com"
            i18n-placeholder="@@email_placeholder" />
          <div id="email-error" class="mt-1 text-xs text-red-600 min-h-5">
            <ng-container *ngIf="f.email.touched && f.email.invalid">
              <span *ngIf="f.email.errors?.['required']" i18n="@@err_email_required">กรุณากรอกอีเมล</span>
              <span *ngIf="f.email.errors?.['email']" i18n="@@err_email_format">รูปแบบอีเมลไม่ถูกต้อง</span>
            </ng-container>
          </div>

          <!-- Password -->
          <label class="mt-3 block text-sm font-medium mb-1" for="password">
            <span i18n="@@password">รหัสผ่าน</span>
          </label>
          <div class="relative">
            <input id="password" [type]="showPassword() ? 'text' : 'password'" formControlName="password" required
              autocomplete="current-password"
              class="block w-full rounded-lg border border-muted bg-background px-3 py-3 pr-12 text-sm sm:text-base outline-none focus:ring-2 focus:ring-primary"
              placeholder="••••••••" i18n-placeholder="@@password_placeholder" />
            <button type="button" (click)="showPassword.set(!showPassword())"
              class="absolute inset-y-0 right-0 px-3 text-muted-foreground hover:text-foreground transition-colors">
              <svg *ngIf="!showPassword()" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                stroke-width="1.8" stroke="currentColor" class="h-5 w-5">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M2.036 12.322a1.012 1.012 0 010-.644C3.423 7.51 7.24 4.5 12 4.5s8.577 3.01 9.964 7.178c.07.214.07.45 0 .644C20.577 16.49 16.76 19.5 12 19.5S3.423 16.49 2.036 12.322z" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
              </svg>
              <svg *ngIf="showPassword()" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                stroke-width="1.8" stroke="currentColor" class="h-5 w-5">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c1.653 0 3.215-.337 4.611-.94M6.228 6.228A10.451 10.451 0 0112 4.5c4.756 0 8.774 3.162 10.066 7.5a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m4.243 4.243l3.651 3.651m0 0L21 21" />
              </svg>
            </button>
          </div>

          <!-- Forgot password -->
          <div class="mt-3 text-right">
            <a routerLink="/forgot-password" class="text-sm text-primary hover:underline">
              <span i18n="@@forgot">ลืมรหัสผ่าน?</span>
            </a>
          </div>

          <!-- Login -->
          <button type="submit"
            class="mt-6 w-full inline-flex items-center justify-center rounded-lg bg-primary px-4 py-2 font-medium text-primary-foreground hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-primary disabled:opacity-50"
            [disabled]="form.invalid || loading()">
            <span *ngIf="!loading()" i18n="@@login">เข้าสู่ระบบ</span>
            <span *ngIf="loading()" i18n="@@loading">กำลังเข้าสู่ระบบ…</span>
          </button>

          <!-- Divider -->
          <div class="mt-6 flex items-center gap-3">
            <div class="h-px flex-1 bg-muted"></div>
            <span class="text-xs text-muted-foreground" i18n="@@or">หรือ</span>
            <div class="h-px flex-1 bg-muted"></div>
          </div>

          <!-- Join Now -->
          <button type="button" (click)="policy()"
            class="mt-4 w-full inline-flex items-center justify-center rounded-lg border border-muted bg-card px-4 py-2 font-medium hover:bg-muted">
            <span i18n="@@join_now">เข้าร่วมตอนนี้ (Join Now)</span>
          </button>
        </form>
      </div>

      <!-- Footer -->
      <p class="mt-6 text-center text-xs text-muted-foreground">
        <span i18n="@@footer_note">© Thai Theatre Foundation — for Performing Arts Education and Development</span>
      </p>
    </div>
  </main>
</div>