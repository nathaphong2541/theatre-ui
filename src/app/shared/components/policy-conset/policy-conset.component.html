<div class="min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-700 text-gray-100">
    <div class="mx-auto max-w-4xl py-4">
        <div class="flex justify-end">
            <app-language-menu class="order-3 my-3"></app-language-menu>
        </div>
        <div class="mb-6 flex items-start justify-between gap-4">
            <div>
                <h1 class="text-2xl font-semibold leading-tight">
                    <span i18n="@@policy_title">นโยบายคุ้มครองข้อมูลส่วนบุคคล (PDPA) และเงื่อนไขการให้ข้อมูล</span>
                </h1>
                <p class="mt-1 text-sm text-gray-300">
                    <span i18n="@@policy_readHint">โปรดอ่านให้ครบถ้วน เลื่อนลงจนสุดแล้วจึงยอมรับ</span>
                </p>
                <p class="mt-1 text-xs text-gray-400">
                    <span i18n="@@policy_updatedAt">ปรับปรุงล่าสุด</span>
                    <span>{{ policyUpdatedAt }}</span>
                </p>
            </div>
            <span class="rounded-full bg-blue-100/20 px-3 py-1 text-xs font-medium text-blue-200 ring-1 ring-white/10">
                <span i18n="@@policy_version">เวอร์ชัน</span>
                <span>{{ policyVersion }}</span>

            </span>

        </div>

        <!-- Card -->
        <div class="rounded-2xl border border-white/10 bg-white shadow-xl ring-1 ring-black/5">
            <!-- Policy body (scrollable) -->
            <div id="policyScrollBox"
                class="relative max-h-[28rem] overflow-y-auto rounded-2xl bg-white p-6 text-gray-800"
                (scroll)="onScroll($event)">
                <article class="prose prose-sm max-w-none prose-h2:mt-8">
                    <h2 i18n="@@policy_s1_title">1) ขอบเขตและนิยาม</h2>
                    <p i18n="@@policy_s1_p1">
                        เอกสารนี้กำหนดหลักเกณฑ์การเก็บ รวบรวม ใช้ เปิดเผย และคุ้มครองข้อมูลส่วนบุคคลตามกฎหมายไทย (PDPA)
                        รวมถึงแนวปฏิบัติภายในของเรา คำว่า ‘ข้อมูลส่วนบุคคล’ หมายถึง
                        ข้อมูลที่ทำให้สามารถระบุตัวบุคคลได้ไม่ว่าโดยทางตรงหรือทางอ้อม
                    </p>

                    <h2 i18n="@@policy_s2_title">2) วัตถุประสงค์ของการประมวลผล</h2>
                    <ul class="list-disc pl-6">
                        <li i18n="@@policy_s2_l1">ให้บริการตามที่ร้องขอและปรับปรุงประสบการณ์การใช้งาน</li>
                        <li i18n="@@policy_s2_l2">ยืนยันตัวตนและความปลอดภัยของระบบ</li>
                        <li i18n="@@policy_s2_l3">ปฏิบัติตามกฎหมาย กฎระเบียบ และการตรวจสอบ</li>
                    </ul>

                    <h2 i18n="@@policy_s3_title">3) ฐานกฎหมายและความยินยอม</h2>
                    <p i18n="@@policy_s3_p1">
                        เราอาศัยฐานกฎหมายที่เหมาะสม เช่น การปฏิบัติตามสัญญา ผลประโยชน์โดยชอบด้วยกฎหมาย
                        และ/หรือความยินยอม
                        หากคุณถอนความยินยอม การประมวลผลที่เกิดขึ้นก่อนการถอนยังคงชอบด้วยกฎหมาย
                    </p>

                    <h2 i18n="@@policy_s4_title">4) การเก็บรักษาและการลบ</h2>
                    <p i18n="@@policy_s4_p1">
                        เก็บรักษาข้อมูลเท่าที่จำเป็นตามวัตถุประสงค์และข้อกำหนดทางกฎหมาย
                        เมื่อหมดความจำเป็นจะลบหรือทำให้ไม่สามารถระบุตัวตนได้
                    </p>

                    <h2 i18n="@@policy_s5_title">5) การแบ่งปันข้อมูล</h2>
                    <p i18n="@@policy_s5_p1">
                        อาจแบ่งปันข้อมูลกับผู้ประมวลผลข้อมูล คู่สัญญา หรือหน่วยงานรัฐตามกฎหมาย
                        โดยกำหนดมาตรการรักษาความมั่นคงปลอดภัย
                    </p>

                    <h2 i18n="@@policy_s6_title">6) สิทธิของเจ้าของข้อมูล</h2>
                    <ul class="list-disc pl-6">
                        <li i18n="@@policy_s6_l1">สิทธิขอเข้าถึงและรับสำเนาข้อมูล</li>
                        <li i18n="@@policy_s6_l2">สิทธิขอแก้ไขให้ถูกต้องครบถ้วน</li>
                        <li i18n="@@policy_s6_l3">สิทธิขอให้ลบหรือจำกัดการประมวลผล</li>
                        <li i18n="@@policy_s6_l4">สิทธิคัดค้านการประมวลผลบางประเภท</li>
                        <li i18n="@@policy_s6_l5">สิทธิขอถ่ายโอนข้อมูล</li>
                    </ul>

                    <h2 i18n="@@policy_s7_title">7) คุกกี้และเทคโนโลยีติดตาม</h2>
                    <p i18n="@@policy_s7_p1">
                        เราอาจใช้คุกกี้/ตัวติดตามเพื่อปรับปรุงบริการ คุณสามารถตั้งค่าบราวเซอร์เพื่อปฏิเสธคุกกี้ได้
                        แต่อาจส่งผลต่อการใช้งานบางส่วน
                    </p>

                    <h2 i18n="@@policy_sPublic_title">8) การเปิดเผยสู่สาธารณะ</h2>
                    <p class="font-medium" i18n="@@policy_sPublic_p1">
                        คุณรับทราบและยินยอมว่าข้อมูลที่คุณให้ไว้ (ตามขอบเขตที่กฎหมายอนุญาต)
                        อาจถูกนำไปแสดงบนหน้าเว็บไซต์ของเราเป็นข้อมูลสาธารณะ
                        เพื่อความโปร่งใสและวัตถุประสงค์ของบริการ
                    </p>

                    <h2 i18n="@@policy_s8_title">9) เขตอำนาจศาลและกฎหมายที่ใช้บังคับ</h2>
                    <p class="font-medium">
                        <span i18n="@@policy_s8_p1">
                            คุณตกลงว่าข้อพิพาททั้งหมดที่เกี่ยวข้องกับเอกสารนี้และ/หรือการให้บริการ
                            จะอยู่ภายใต้เขตอำนาจศาลโดยเฉพาะของ
                        </span>
                        <span class="underline" i18n="@@policy_s8_venue">ศาลในนครนิวยอร์ก (New York, NY, USA)
                            เท่านั้น</span>
                    </p>
                </article>
            </div>

            <!-- Actions -->
            <div
                class="flex flex-col gap-4 border-t border-gray-200/70 p-4 sm:flex-row sm:items-center sm:justify-between sm:gap-6">
                <!-- Accept checkbox -->
                <label class="inline-flex items-start gap-3 text-sm text-gray-700 select-none">
                    <input type="checkbox"
                        class="mt-1 size-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"
                        (change)="onAcceptChange($event)" [disabled]="!atEnd()" [checked]="accepted()"
                        [attr.aria-disabled]="!atEnd()" />
                    <span>
                        <span class="font-medium"
                            i18n="@@policy_accept">ข้าพเจ้าได้อ่านและยอมรับเงื่อนไขตามนโยบายนี้</span>
                        <span class="block text-xs text-gray-500" *ngIf="!atEnd()" i18n="@@policy_scrollToEnable">
                            เลื่อนอ่านจนสุดเพื่อเปิดการยอมรับ
                        </span>
                    </span>
                </label>

                <!-- Buttons -->
                <div class="flex gap-3">
                    <button type="button" (click)="onBack()"
                        class="inline-flex items-center justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50">
                        <span i18n="@@policy_back">ย้อนกลับ</span>
                    </button>

                    <button type="button" (click)="onNext()" [disabled]="!accepted()"
                        class="inline-flex items-center justify-center rounded-md bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 disabled:opacity-50 disabled:pointer-events-none"
                        [attr.aria-disabled]="!accepted()">
                        <span i18n="@@policy_next">ถัดไป</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>